<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>CDNBye JWPlayer Demo</title>
    <!-- CDNBye Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/cdnbye@latest"></script>
    <script src="https://cdn.jsdelivr.net/gh/teranode/jw-provider@0.0.9/provider.hlsjs.js"></script>
<!--    <script src="https://cdn.jsdelivr.net/npm/cdnbye@latest/dist/jwplayer.provider.hls.js"></script>-->
    <!-- JW Player Builds -->
    <script src="https://ssl.p.jwpcdn.com/player/v/8.21.0/jwplayer.js"></script>
<script> jwplayer.key = 'ITWMv7t88JGzI0xPwW8I0+LveiXX9SWbfdmt0ArUSyc='; </script>
</head>
<body>
<header></header>
<center>
<div id="player1"  controls>Loading Player...</div>   
</center>

<script type='text/javascript'>    
var playerInstance = jwplayer("player1");
playerInstance.setup({
 playlist: [{
        file: "newURL",
        image: "http://assets-jp.jwpsrv.com/thumbs/3XnJSIm4-640.jpg",
        title: "Sintel Trailer",
        description: "Sintel is a fantasy CGI movie from the Blender Open Movie Project."
}],
    autostart: true,
    mute: true,
    controls: false,
    aspectratio: "16:9",
    stretching: "exactfit",      //uniform|fill|exactfit|bestfit|none
    primary:"flash",
    repeat: true,
    height: '480',
    width: '840',
      listbar: {
        position: "right",
        size: 280
      }
          });
    jwplayer().on('play', function(){
  setTimeout(function(){
  var url = window.location.href;
              url = url.split('?source=');
              url = url[1];
              newURL = url[1];
      alert(url);
  },300);
 });
    
   function playjw(file) {
var newURL = url[1];
    return false; // this is required to not let the browser follow the link.
       }
//var newURL;
//javascript codes here
//document.write(newURL); //will output something like this - https://stream.live.novotempo.com/tv/smil:tvnovotempo.smil/chunklist_slpor.m3u8

</script>

</body>
</html>
